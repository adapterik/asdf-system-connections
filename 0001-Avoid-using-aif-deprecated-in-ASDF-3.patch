From 8b9e2c390d30bf2f4b131c7714f1ba33e3b019e8 Mon Sep 17 00:00:00 2001
From: Francois-Rene Rideau <tunes@google.com>
Date: Sat, 29 Dec 2012 13:38:04 -0500
Subject: [PATCH] Avoid using aif, deprecated in ASDF 3. Use ignorable, not
 ignore, for ignored defmethod arguments.

---
 dev/asdf-system-connections.lisp | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/dev/asdf-system-connections.lisp b/dev/asdf-system-connections.lisp
index e2c2897..12756ab 100644
--- a/dev/asdf-system-connections.lisp
+++ b/dev/asdf-system-connections.lisp
@@ -50,13 +50,13 @@
 ;;; ---------------------------------------------------------------------------
 
 (defun system-loaded-p (system-name)
-  (aif (cdr (system-registered-p system-name))
-       (component-operation-time (make-instance 'load-op) it)))
+  (let ((it (cdr (system-registered-p system-name))))
+    (when it (component-operation-time (make-instance 'load-op) it))))
 
 ;;; ---------------------------------------------------------------------------
 
-(defmethod operate :after (operation-class system &key &allow-other-keys)
-  (declare (ignore operation-class system))
+(defmethod operate :after (operation system &key &allow-other-keys)
+  (declare (ignorable operation system))
   (load-connected-systems))
 
 ;;; ---------------------------------------------------------------------------
-- 
1.8.1

